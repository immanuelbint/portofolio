---
import { siteConfig } from "../config";

const hasProjects = siteConfig.projects && siteConfig.projects.length > 0;
const hasExperience = siteConfig.experience && siteConfig.experience.length > 0;
const hasEducation = siteConfig.education && siteConfig.education.length > 0;
const hasCerts = siteConfig.certs && siteConfig.certs.length > 0;
---

<header
  id="header"
  class="fixed top-0 left-0 right-0 z-50 hidden md:block transition-all duration-300"
>
  <nav class="max-w-7xl mx-auto px-8 py-4">
    <ul class="flex items-center gap-8 justify-center">
      <li>
        <a href="#about" class="nav-link">About</a>
      </li>
      {hasProjects && (
        <li><a href="#projects" class="nav-link">Projects</a></li>
      )}
      {hasExperience && (
        <li><a href="#experience" class="nav-link">Experience</a></li>
      )}
      {hasEducation && (
        <li><a href="#education" class="nav-link">Education</a></li>
      )}
      {hasCerts && (
        <li><a href="#certs" class="nav-link">Certification</a></li>
      )}
      <li>
      <a 
        href="https://docs.immanuelbint.com"
        target="_blank" 
        rel="noopener noreferrer" 
        class="nav-link flex items-center gap-1"
      >
        Blog
        <svg xmlns="http://www.w3.org/2000/svg" 
          class="h-4 w-4 text-[var(--accent-color)]" 
          fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
            d="M10 6h8m0 0v8m0-8L10 14m-4 4h4a2 2 0 002-2v-4" />
        </svg>
      </a>
    </li>
    </ul>
  </nav>
</header>

<script>
  window.addEventListener("scroll", () => {
    const header = document.getElementById("header");
    if (window.scrollY > 100) {
      header?.classList.add("scrolled");
      header?.classList.remove("top");
    } else {
      header?.classList.add("top");
      header?.classList.remove("scrolled");
    }
  });

  // Init on load
  window.dispatchEvent(new Event("scroll"));
</script>

<style>
  html {
    scroll-behavior: smooth;
  }

  /* Default state (top of page, transparent) */
  #header.top {
    background: transparent;
  }

  #header.top .nav-link {
    color: white;
  }
  #header.top .nav-link:hover {
    color: var(--accent-color);
  }

  /* Scrolled state (white with blur) */
  #header.scrolled {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);
  }

  #header.scrolled .nav-link {
    color: #1f2937; /* gray-800 */
  }
  #header.scrolled .nav-link:hover {
    color: black;
  }
</style>
